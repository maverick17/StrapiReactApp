{"ast":null,"code":"/**\n * @typedef {import('hast').Properties} Properties\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').ElementContent} ElementContent\n * @typedef {import('mdast').Content} Content\n * @typedef {import('mdast').Parent} Parent\n * @typedef {import('mdast').Root} Root\n * @typedef {import('mdast').TableRow} TableRow\n * @typedef {import('../state.js').State} State\n */\n\n/**\n * @typedef {Root | Content} Nodes\n * @typedef {Extract<Nodes, Parent>} Parents\n */\n\n/**\n * Turn an mdast `tableRow` node into hast.\n *\n * @param {State} state\n *   Info passed around.\n * @param {TableRow} node\n *   mdast node.\n * @param {Parents | null | undefined} parent\n *   Parent of `node`.\n * @returns {Element}\n *   hast node.\n */\nexport function tableRow(state, node, parent) {\n  var siblings = parent ? parent.children : undefined;\n  // Generate a body row when without parent.\n  var rowIndex = siblings ? siblings.indexOf(node) : 1;\n  var tagName = rowIndex === 0 ? 'th' : 'td';\n  var align = parent && parent.type === 'table' ? parent.align : undefined;\n  var length = align ? align.length : node.children.length;\n  var cellIndex = -1;\n  /** @type {Array<ElementContent>} */\n  var cells = [];\n  while (++cellIndex < length) {\n    // Note: can also be undefined.\n    var cell = node.children[cellIndex];\n    /** @type {Properties} */\n    var properties = {};\n    var alignValue = align ? align[cellIndex] : undefined;\n    if (alignValue) {\n      properties.align = alignValue;\n    }\n\n    /** @type {Element} */\n    var _result = {\n      type: 'element',\n      tagName: tagName,\n      properties: properties,\n      children: []\n    };\n    if (cell) {\n      _result.children = state.all(cell);\n      state.patch(cell, _result);\n      _result = state.applyData(node, _result);\n    }\n    cells.push(_result);\n  }\n\n  /** @type {Element} */\n  var result = {\n    type: 'element',\n    tagName: 'tr',\n    properties: {},\n    children: state.wrap(cells, true)\n  };\n  state.patch(node, result);\n  return state.applyData(node, result);\n}","map":null,"metadata":{},"sourceType":"module"}